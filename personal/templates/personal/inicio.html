{% extends 'base.html' %}
{% load static %}

{% block title %}Inicio â€” SiGROB 2.0{% endblock %}

{% block head %}
  <!-- Si necesitas estilos adicionales, agrÃ©galos aquÃ­ -->
{% endblock %}

{% block content %}
<div class="card-dark" style="padding-top: 2rem; padding-bottom: 2rem;">

  <!-- Logo institucional -->
  <div style="text-align: center; margin-bottom: 1rem;">
    <img src="{% static 'img/sigro_logo.png' %}" alt="Logo SiGRO" style="height: 160px;">
    <div style="font-size: 1rem; color: #d5d5d5; margin-top: 0.5rem;">
      <strong>SiGROB 2.0</strong> â€” Sistema Integral de GestiÃ³n de Reportes Operativos de Bomberos
    </div>
  </div>

  <!-- TÃ­tulo principal -->
  <h1 style="font-size: 1.8rem; margin: 2rem 0 1.5rem 0; text-align: center;">ğŸ  INICIO â€” PANEL DE TRABAJO INTEGRAL</h1>

  <!-- SesiÃ³n -->
  {% if user.is_authenticated %}
    <div style="margin-bottom:1.5rem; font-size:0.95rem; color:#ccc; text-align: center;">
      ğŸ‘¤ SesiÃ³n iniciada como <strong>{{ user.username }}</strong> |
      <a href="{% url 'logout' %}" style="color:#0a84ff;">Cerrar sesiÃ³n</a> |
      <a href="{% url 'password_change' %}" style="color:#0a84ff;">Cambiar clave</a>
    </div>
  {% else %}
    <div style="margin-bottom:1.5rem; font-size:0.95rem; color:#ccc; text-align: center;">
      ğŸ” <a href="{% url 'login' %}" style="color:#0a84ff;">Iniciar sesiÃ³n</a>
    </div>
  {% endif %}

  <!-- Botones -->
  <div style="display:flex; gap:2rem; justify-content:center; margin-top: 2rem;">
    <a href="{% url 'gestion_horas' %}" class="button" style="width:300px; padding:1rem 1.5rem;">ğŸ“˜ GESTIÃ“N DE HORAS</a>
    <a href="{% url 'documentos_lista' %}" class="button" style="width:300px; padding:1rem 1.5rem;">ğŸ“ GESTIÃ“N DOCUMENTARIA</a>
  </div>

  <!-- Notificaciones flotantes estilo macOS -->
  {% if notificaciones %}
  <div class="notificaciones-stack">
    {% for mensaje in notificaciones %}
      <div class="notificacion-flotante">
        <button class="cerrar" aria-label="Cerrar" onclick="this.parentElement.style.display='none'">Ã—</button>
        <p>{{ mensaje }}</p>
      </div>
    {% endfor %}
  </div>
  {% endif %}

</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const stack = document.querySelector('.notificaciones-stack');
    if (!stack) return;
    setTimeout(() => {
      stack.style.display = 'none';
    }, 15000); // Oculta las notificaciones despuÃ©s de 6 segundos
  });
</script>
{% endblock %}

